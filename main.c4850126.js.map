{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","DETAILS_URL","body","document","ul","createElement","getPhones","fetch","then","response","ok","json","setTimeout","Error","status","statusText","getPhonesDetails","phoneIDs","forEach","phoneid","text","phone","li","textContent","name","append","phones","map","id"],"mappings":";AAAA,aAEA,IAAMA,EACJ,wEACIC,EACJ,oEAEIC,EAAOC,SAASD,KAChBE,EAAKD,SAASE,cAAc,MAIlC,SAASC,IACAC,OAAAA,MAAMP,GACVQ,KAAK,SAAAC,GACA,OAACA,EAASC,GAMPD,EAASE,OALPC,WAAW,WACVC,MAAAA,MAASJ,GAAAA,OAAAA,EAASK,OAAYL,OAAAA,OAAAA,EAASM,cAC5C,OAOX,SAASC,EAAiBC,GACxBA,EAASC,QAAQ,SAAAC,GACfZ,MAASN,GAAAA,OAAAA,GAAckB,OAAAA,EAAvB,UACGX,KAAK,SAAAC,GACA,IAACA,EAASC,GACNG,MAAAA,MAASJ,GAAAA,OAAAA,EAASK,OAAYL,OAAAA,OAAAA,EAASK,OAAOM,OAG/CX,OAAAA,EAASE,SAEjBH,KAAK,SAAAa,GACEC,IAAAA,EAAKnB,SAASE,cAAc,MAElCiB,EAAGC,YAAcF,EAAMG,KACvBpB,EAAGqB,OAAOH,OA7BlBpB,EAAKuB,OAAOrB,GAkCZE,IACGE,KAAK,SAAAkB,GAGJV,EAFiBU,EAAOC,IAAI,SAAAN,GAASA,OAAAA,EAAMO","file":"main.c4850126.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nconst BASE_URL\r\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\r\nconst DETAILS_URL\r\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\r\n\r\nconst body = document.body;\r\nconst ul = document.createElement('ul');\r\n\r\nbody.append(ul);\r\n\r\nfunction getPhones() {\r\n  return fetch(BASE_URL)\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        return setTimeout(() => {\r\n          throw Error(`${response.status} - ${response.statusText}`);\r\n        }, 5000);\r\n      }\r\n\r\n      return response.json();\r\n    });\r\n}\r\n\r\nfunction getPhonesDetails(phoneIDs) {\r\n  phoneIDs.forEach(phoneid => {\r\n    fetch(`${DETAILS_URL}${phoneid}.json`)\r\n      .then(response => {\r\n        if (!response.ok) {\r\n          throw Error(`${response.status} - ${response.status.text}`);\r\n        }\r\n\r\n        return response.json();\r\n      })\r\n      .then(phone => {\r\n        const li = document.createElement('li');\r\n\r\n        li.textContent = phone.name;\r\n        ul.append(li);\r\n      });\r\n  });\r\n};\r\n\r\ngetPhones()\r\n  .then(phones => {\r\n    const phoneIDs = phones.map(phone => phone.id);\r\n\r\n    getPhonesDetails(phoneIDs);\r\n  });\r\n"]}